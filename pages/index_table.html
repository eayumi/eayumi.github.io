<!DOCTYPE html>

<html>
<title>Main View: Single Group View</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<head>
    <link rel='stylesheet' href='../css/styles.css'>
    <link rel='stylesheet' href='../css/style_mock_trace.css'>
    <link rel='stylesheet' href='../css/style_timelines.css'>
    <link rel='stylesheet' href='../css/styles_densityPlot.css'>
    <link rel='stylesheet' href='../css/multiple-select.css'>

    <link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.23/datatables.min.css" />


    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.js"></script>

    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.3.1/jszip-2.5.0/dt-1.10.23/af-2.3.5/b-1.6.5/b-colvis-1.6.5/b-flash-1.6.5/b-html5-1.6.5/b-print-1.6.5/cr-1.5.3/fc-3.3.2/fh-3.1.7/kt-2.5.3/r-2.2.7/rg-1.1.2/rr-1.2.7/sc-2.0.3/sb-1.0.1/sp-1.2.2/sl-1.3.1/datatables.min.js"></script>


    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>

    <style>
        html {
            overflow-x: hidden;
        }
        
        li {
            font-size: 14px;
            margin-left: 50px;
            list-style-type: circle;
            color: black;
            display: list-item;
        }
        
        .container {
            text-align: center;
            padding: 5px;
            overflow-x: scroll;
        }
        
        .container table {
            margin: 0 auto;
        }
        
        .buttons {
            width: 70%
        }
        
        .avgButton {}
    </style>




</head>

<header>
    <div class="navbar">

        <a style='border-radius:2px;' href="../index.html">Home</a>

        <!--  <div class="dropdown">
            <button class="dropbtn">Overview
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                 <a href="index_overview.html">Week Overview</a>
                <a href="index_freq_per_angle.html">Frequency per Angle</a>
                <a href="index_parset.html">Parset: Testsubject Distribution</a> 
            </div>
        </div>-->

        <a href="../animation_view.html" style='border-radius:2px;'>Animation View</a>

        <div class="dropdown">
            <button class="dropbtn">Main View
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <a href="index_comparison.html">Two Group Comparison View</a>
                <a href="index_single_choice.html">Single Group View</a>

            </div>
        </div>

        <a href="index_table.html" style='background-color: dodgerblue;  color: white;'>Overview Table</a>


    </div>
</header>


<h1 style='text-align: center;'>Overview Table</h1>
<p style='position: relative;left:100px;width: 80%'>
    <b style="color: red;">The list of the test-subject is not updated as of yet. Therefore colums regarding age, occupation, single/pairs and gender are not complete, while colums like 'All' and the Weekdays are.
    The data considered range from 11.09.2019 to the last week of 2020 (upto and including 01.03.2021).</b><br>
    <br>This page shows a table listing the amount of usage (rotations or open/close action) that was measured per sensor. The values can either be shown as <b>absolute </b>number of observations, <b>average</b> by number of weeks or as the <b>percentage</b>    across all the sensors. Furthermore, rows can be reordered for any column and the colums can be toggled . These include the following:
    <ul style='position: relative;left:100px;'>
        <li><b>Age</b>: This includes the age of all single test-subjects and pairs of same age. The categories include: 18-30,30-45,45-60 and 60-75.</li>
        <li><b>Gender</b>: This includes the gender of all single test-subjects and pairs. <i>mixed</i> includes pairs of female and male test-subject, <br> female include single female test-subjects as well as pairs where both subjects are female (and same
            for male).</li>
        <li><b>Weekday</b>: Observations per weekday over all weeks. </li>
        <li><b>Occupation</b>: Same as Age, this includes the single test-subjects and pairs of test-subjects with same occupation only. <br> The categories are: Student, Employed, Part-time Employed and Unemployed/Retired. </li>
    </ul>
</p>

<p style='position: relative;left:100px;width: 80%'>
    Note, the columns do not all fit onto the page. In this case, horizontal scrolling is activated.
</p>
<h4 id="title" style='position: relative;left:13%'></h4>
<div class="container">
    <div id="overButton"></div>
    <table id="example" class="display" style="width:80%; "></table>
</div>
<script>
    d3.json('../data/data_table.json').then(function(data_table) {

        //age, occ, gender, wkd
        var currentClassesShow = 'normal';
        var ageToggle = 0;
        var occToggle = 0;
        var genderToggle = 0;
        var wkdToggle = 0;

        document.getElementById('title').innerHTML = 'Absolute Values';


        var table = $('#example').DataTable({
            "paging": false,
            "info": false,
            dom: 'Bfrtip',
            "searching": false,
            "data": data_table,
            fixedHeader: false,
            "columns": [{
                    "data": "Sensor",
                    "title": "Sensor"
                }, {
                    "data": "All",
                    "title": "All",
                    className: "normal"

                }, {
                    "data": "Single",
                    "title": "Single",
                    className: "normal"

                }, {
                    "data": "Pairs",
                    "title": "Pairs",
                    className: "normal"

                }, {
                    "data": "eight",
                    "title": "18-30",
                    className: "agenormal"
                }, {
                    "data": "three",
                    "title": "30-45",
                    className: "agenormal"
                }, {
                    "data": "four",
                    "title": "45-60",
                    className: "agenormal"
                }, {
                    "data": "six",
                    "title": "60-75",
                    className: "agenormal"
                }, {
                    "data": "Student",
                    "title": "Student",
                    className: "occnormal"
                }, {
                    "data": "Employed",
                    "title": "Employed",
                    className: "occnormal"
                }, {
                    "data": "UnRet",
                    "title": "Unemp./ Retired",
                    className: "occnormal"
                }, {
                    "data": "Part",
                    "title": "Part-Time Emp.",
                    className: "occnormal"
                }, {
                    "data": "female",
                    "title": "female",
                    className: "gendernormal"
                }, {
                    "data": "male",
                    "title": "male",
                    className: "gendernormal"
                }, {
                    "data": "mixed",
                    "title": "mixed",
                    className: "gendernormal"
                }, {
                    "data": "Mon",
                    "title": "Mon",
                    className: "wkdnormal"
                }, {
                    "data": "Tue",
                    "title": "Tue",
                    className: "wkdnormal"
                }, {
                    "data": "Wed",
                    "title": "Wed",
                    className: "wkdnormal"
                }, {
                    "data": "Thu",
                    "title": "Thu",
                    className: "wkdnormal"
                }, {
                    "data": "Fri",
                    "title": "Fri",
                    className: "wkdnormal"
                }, {
                    "data": "Sat",
                    "title": "Sat",
                    className: "wkdnormal"
                }, {
                    "data": "Sun",
                    "title": "Sun",
                    className: "wkdnormal"
                },
                //averageby weeks
                {
                    "data": "AllA",
                    "title": "All",
                    className: "avg"

                }, {
                    "data": "SingleA",
                    "title": "Single",
                    className: "avg"

                }, {
                    "data": "PairsA",
                    "title": "Pairs",
                    className: "avg"

                }, {
                    "data": "eightA",
                    "title": "18-30",
                    className: "ageavg"
                }, {
                    "data": "threeA",
                    "title": "30-45",
                    className: "ageavg"
                }, {
                    "data": "fourA",
                    "title": "45-60",
                    className: "ageavg"
                }, {
                    "data": "sixA",
                    "title": "60-75",
                    className: "ageavg"
                }, {
                    "data": "StudentA",
                    "title": "Student",
                    className: "occavg"
                }, {
                    "data": "EmployedA",
                    "title": "Employed",
                    className: "occavg"
                }, {
                    "data": "UnRetA",
                    "title": "Unemp./ Retired",
                    className: "occavg"
                }, {
                    "data": "PartA",
                    "title": "Part-Time Emp.",
                    className: "occavg"
                }, {
                    "data": "femaleA",
                    "title": "female",
                    className: "genderavg"
                }, {
                    "data": "maleA",
                    "title": "male",
                    className: "genderavg"
                }, {
                    "data": "mixedA",
                    "title": "mixed",
                    className: "genderavg"
                }, {
                    "data": "MonA",
                    "title": "Mon",
                    className: "wkdavg"
                }, {
                    "data": "TueA",
                    "title": "Tue",
                    className: "wkdavg"
                }, {
                    "data": "WedA",
                    "title": "Wed",
                    className: "wkdavg"
                }, {
                    "data": "ThuA",
                    "title": "Thu",
                    className: "wkdavg"
                }, {
                    "data": "FriA",
                    "title": "Fri",
                    className: "wkdavg"
                }, {
                    "data": "SatA",
                    "title": "Sat",
                    className: "wkdavg"
                }, {
                    "data": "SunA",
                    "title": "Sun",
                    className: "wkdavg"
                },
                //percentageacross all sensors
                {
                    "data": "AllP",
                    "title": "All",
                    className: "perc"

                }, {
                    "data": "SingleP",
                    "title": "Single",
                    className: "perc"

                }, {
                    "data": "PairsP",
                    "title": "Pairs",
                    className: "perc"

                }, {
                    "data": "eightP",
                    "title": "18-30",
                    className: "ageperc"
                }, {
                    "data": "threeP",
                    "title": "30-45",
                    className: "ageperc"
                }, {
                    "data": "fourP",
                    "title": "45-60",
                    className: "ageperc"
                }, {
                    "data": "sixP",
                    "title": "60-75",
                    className: "ageperc"
                }, {
                    "data": "StudentP",
                    "title": "Student",
                    className: "occperc"
                }, {
                    "data": "EmployedP",
                    "title": "Employed",
                    className: "occperc"
                }, {
                    "data": "UnRetP",
                    "title": "Unemp./ Retired",
                    className: "occperc"
                }, {
                    "data": "PartP",
                    "title": "Part-Time Emp.",
                    className: "occperc"
                }, {
                    "data": "femaleP",
                    "title": "female",
                    className: "genderperc"
                }, {
                    "data": "maleP",
                    "title": "male",
                    className: "genderperc"
                }, {
                    "data": "mixedP",
                    "title": "mixed",
                    className: "genderperc"
                }, {
                    "data": "MonP",
                    "title": "Mon",
                    className: "wkdperc"
                }, {
                    "data": "TueP",
                    "title": "Tue",
                    className: "wkdperc"
                }, {
                    "data": "WedP",
                    "title": "Wed",
                    className: "wkdperc"
                }, {
                    "data": "ThuP",
                    "title": "Thu",
                    className: "wkdperc"
                }, {
                    "data": "FriP",
                    "title": "Fri",
                    className: "wkdperc"
                }, {
                    "data": "SatP",
                    "title": "Sat",
                    className: "wkdperc"
                }, {
                    "data": "SunP",
                    "title": "Sun",
                    className: "wkdperc"
                }



            ],
            dom: 'Bfrtip',
            buttons: {
                name: 'primary',
                buttons: ['excel',
                    //
                    {
                        text: 'Average',
                        action: function() {
                            currentClassesShow = 'avg'
                            document.getElementById('title').innerHTML = 'Average Values';

                            table.columns(".normal").visible(false);
                            table.columns(".perc").visible(false);
                            table.columns(".avg").visible(true);


                            table.columns(".occnormal").visible(false);
                            table.columns(".agenormal").visible(false);
                            table.columns(".gendernormal").visible(false);
                            table.columns(".wkdnormal").visible(false);

                            table.columns(".wkdperc").visible(false);
                            table.columns(".ageperc").visible(false);
                            table.columns(".genderperc").visible(false);
                            table.columns(".occperc").visible(false);

                            if (ageToggle == 1) table.columns(".age" + currentClassesShow).visible(true);
                            if (occToggle == 1) table.columns(".occ" + currentClassesShow).visible(true);
                            if (genderToggle == 1) table.columns(".gender" + currentClassesShow).visible(true);
                            if (wkdToggle == 1) table.columns(".wkd" + currentClassesShow).visible(true);



                        }
                    }, {
                        text: 'Percentage',
                        className: 'overButton',

                        action: function() {
                            currentClassesShow = 'perc'

                            document.getElementById('title').innerHTML = 'Percentage Values';
                            table.columns(".avg").visible(false);
                            table.columns(".perc").visible(true);
                            table.columns(".normal").visible(false);


                            table.columns(".occavg").visible(false);
                            table.columns(".wkdavg").visible(false);
                            table.columns(".ageavg").visible(false);
                            table.columns(".genderavg").visible(false);


                            table.columns(".occnormal").visible(false);
                            table.columns(".wkdnormal").visible(false);
                            table.columns(".agenormal").visible(false);
                            table.columns(".gendernormal").visible(false);

                            if (ageToggle == 1) table.columns(".age" + currentClassesShow).visible(true);
                            if (occToggle == 1) table.columns(".occ" + currentClassesShow).visible(true);
                            if (genderToggle == 1) table.columns(".gender" + currentClassesShow).visible(true);
                            if (wkdToggle == 1) table.columns(".wkd" + currentClassesShow).visible(true);

                        }
                    }, {
                        text: 'Absolute',
                        className: 'overButton',

                        action: function() {

                            document.getElementById('title').innerHTML = 'Absolute Values';
                            currentClassesShow = 'normal';
                            table.columns(".avg").visible(false);
                            table.columns(".perc").visible(false);
                            table.columns(".normal").visible(true);

                            table.columns(".occperc").visible(false);
                            table.columns(".wkdperc").visible(false);
                            table.columns(".ageperc").visible(false);
                            table.columns(".genderperc").visible(false);

                            table.columns(".ageavg").visible(false);
                            table.columns(".occavg").visible(false);
                            table.columns(".genderavg").visible(false);
                            table.columns(".wkdavg").visible(false);


                            if (ageToggle == 1) table.columns(".age" + currentClassesShow).visible(true);
                            if (occToggle == 1) table.columns(".occ" + currentClassesShow).visible(true);
                            if (genderToggle == 1) table.columns(".gender" + currentClassesShow).visible(true);
                            if (wkdToggle == 1) table.columns(".wkd" + currentClassesShow).visible(true);

                        }
                    }, {
                        text: 'Age',
                        action: function() {
                            if (ageToggle == 1) {
                                table.columns(".age" + currentClassesShow).visible(false);
                                ageToggle = 0
                            } else {
                                table.columns(".age" + currentClassesShow).visible(true);
                                ageToggle = 1

                            }
                        }
                    }, {
                        text: 'Gender',
                        action: function() {
                            if (genderToggle == 1) {
                                table.columns(".gender" + currentClassesShow).visible(false);
                                genderToggle = 0
                            } else {
                                table.columns(".gender" + currentClassesShow).visible(true);
                                genderToggle = 1

                            }
                        }
                    }, {
                        text: 'Weekday',
                        action: function() {
                            if (wkdToggle == 1) {
                                table.columns(".wkd" + currentClassesShow).visible(false);
                                wkdToggle = 0
                            } else {
                                table.columns(".wkd" + currentClassesShow).visible(true);
                                wkdToggle = 1

                            }
                        }
                    }, {
                        text: 'Occupation',
                        action: function() {
                            if (occToggle == 1) {
                                table.columns(".occ" + currentClassesShow).visible(false);
                                occToggle = 0
                            } else {
                                table.columns(".occ" + currentClassesShow).visible(true);
                                occToggle = 1

                            }
                        }
                    }
                ]
            }


        });


        $(document).ready(function() {
            table
        });


        table.columns(".occavg").visible(false);
        table.columns(".occperc").visible(false);
        table.columns(".wkdavg").visible(false);
        table.columns(".wkdperc").visible(false);
        table.columns(".ageperc").visible(false);
        table.columns(".genderperc").visible(false);
        table.columns(".ageavg").visible(false);
        table.columns(".genderavg").visible(false);
        table.columns(".avg").visible(false);
        table.columns(".perc").visible(false);
        table.columns(".occnormal").visible(false);
        table.columns(".wkdnormal").visible(false);
        table.columns(".agenormal").visible(false);
        table.columns(".gendernormal").visible(false);
        table.columns(".normal").visible(true);






    });
</script>

</html>